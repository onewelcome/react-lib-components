import { Canvas, Story, Title, Subtitle, ArgTypes, Meta } from "@storybook/blocks";
import "./ContextMenuDocumentation.css";
import * as ContextMenuStories from "./ContextMenu.stories.tsx";

<Meta of={ContextMenuStories} />
<Title />
<Subtitle />

The `ContextMenu` (root element is `<div>`) is used to display a list of items after clicking on a trigger. This trigger is either a `Button` or `IconButton` component. The ContextMenu has to be used in conjunction with the `ContextMenuItem` component. The `ContextMenuItem` component has to be a child of `ContextMenu` and can be regarded as a `<li>` HTMLElement.
Within this `<li>` there's a `button` which executes and `onClick` event as soon as it is clicked on. Meaning `ContextMenuItem` can receive an `onClick` prop.

The `ContextMenu` component can be used to show a small menu that can execute certain actions.

The `show` property of the ContextMenu component is controlled internally by the component library, but you can set its initial value. Use the `onShow` and `onClose` props when you need to trigger actions upon showing or closing the context menu.

By default, the `ContextMenu` will be `React.Portal`ed to the `body` so that `transform` won't mess with the `usePlacement` hook.

If needed one can use the `decorativeElement` prop which can be used to insert decorative, noninteractive element into the `ContextMenu`.

# Examples

<Canvas of={ContextMenuStories.ContextMenu} />

The following code example will showcase how the [ContextMenu story](/story/components-navigation-contextmenu--context-menu) is created.

```jsx
<ContextMenu
  id="example-contextmenu"
  trigger={
    <IconButton color="default" title="click me for contextmenu">
      <Icon icon={Icons.EllipsisAlt} />
    </IconButton>
  }
  placement={{ vertical: "bottom", horizontal: "left" }}
  transformOrigin={{ vertical: "top", horizontal: "left" }}
>
  <ContextMenuItem onClick={action("ContextMenuItem 1 onClick event")}>
    Example item 1
  </ContextMenuItem>
  <ContextMenuItem onClick={action("ContextMenuItem 2 onClick event")}>
    Example item 2
  </ContextMenuItem>
  <ContextMenuItem onClick={action("ContextMenuItem 3 onClick event")}>
    Example item 3
  </ContextMenuItem>
</ContextMenu>
```

<Canvas of={ContextMenuStories.ContextMenuWithDecorativeElement} />

The following code example shows how one can [add a decorative element to ContextMenu](/story/components-navigation-contextmenu--context-menu-with-decorative-element).

```jsx
<ContextMenu
  id="example-contextmenu"
  decorativeElement={
    <Typography variant="body-bold" spacing={{ marginLeft: 5, marginBottom: 0 }}>
      Decorative element
    </Typography>
  }
  trigger={
    <IconButton color="default" title="click me for contextmenu">
      <Icon icon={Icons.EllipsisAlt} />
    </IconButton>
  }
  placement={{ vertical: "bottom", horizontal: "left" }}
  transformOrigin={{ vertical: "top", horizontal: "left" }}
>
  <ContextMenuItem onClick={action("ContextMenuItem 1 onClick event")}>
    Example item 1
  </ContextMenuItem>
</ContextMenu>
```

<Canvas of={ContextMenuStories.ControlledContextMenu} />

The following code example shows how one can [control ContextMenu's active state by value](/story/components-navigation-contextmenu--context-menu-with-decorative-element).

```jsx
const [itemNo, setItemNo] = useState(-1);
const onChange = (_e: unknown, itemNo: number) => setItemNo(itemNo);

<ContextMenu
  id="example-contextmenu-with-active-ribbon"
  value={itemNo}
  onChange={onChange}
  trigger={
    <IconButton color="default" title="click me for contextmenu">
      <Icon icon={Icons.EllipsisAlt} />
    </IconButton>
  }
>
  <ContextMenuItem onClick={action("ContextMenuItem 1 onClick event")}>
    Example item 1
  </ContextMenuItem>
  <ContextMenuItem onClick={action("ContextMenuItem 2 onClick event")}>
    Example item 2
  </ContextMenuItem>
  <ContextMenuItem onClick={action("ContextMenuItem 3 onClick event")}>
    Example item 3
  </ContextMenuItem>
</ContextMenu>
```

# Props

<ArgTypes />
